<script>
    function run(port) {    
      try {
        DatagramSocket serverSocket = new DatagramSocket(port);
        byte[] receiveData = new byte[100];

        document.write("Listening on udp:%s:%d%n",InetAddress.getLocalHost().getHostAddress(), port);     
        DatagramPacket receivePacket = new DatagramPacket(receiveData,receiveData.length);

        while(true)
        {
              serverSocket.receive(receivePacket);
              String sentence = new String( receivePacket.getData(), 0,
                                 receivePacket.getLength() );
              document.write("RECEIVED: " + sentence);     
        }
      } 
      catch (IOException e) {
          document.write(e);
      }
    }
    run(9999);
</script>