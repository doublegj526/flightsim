<!DOCTYPE html>
<html>
  <head>
    <title>Flight Simulator User Interface</title>
    <meta name ="viewport" content="width=device-width, initial-scale=1.0">
    <link href = "css/bootstrap.min.css" rel = "stylesheet">
    <style>
      #map-canvas {
        width: 1000px;
        height: 800px;
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js"></script>
    <script>
      function initialize() {
        var mapCanvas = document.getElementById('map-canvas');
        var mapOptions = {
          center: new google.maps.LatLng(44.5403, -78.5463),
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        var map = new google.maps.Map(mapCanvas, mapOptions)
      }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
    <script src = "http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src = "js/bootstrap.js"></script>
     <div class = "navbar navbar-default navbar-fixed-top">
      <div class = "container">
        <a href = "#" class = "navbar-brand">
          FlightGear User Interface
        </a>
        <button class = "navbar-toggle" data-toggle = "collapse" data-target = ".navHeaderCollapse">
          <span class = "icon-bar"></span>
          <span class = "icon-bar"></span>
          <span class = "icon-bar"></span>
        </button>
        <div class = "collapse navbar-collapse navHeaderCollapse">
          <ul class = "nav navbar-nav navbar-right">
            <li class = "active"><a href = "http://doublegj526.github.io/flightsim/">Home</a></li>
            <li><a href = "">Map View</a></li>
            <li class = "dropdown">
              <a href = "#" class = "dropdown-toggle" data-toggle = "dropdown">Logging<b class = "caret"></b></a>
              <ul class = "dropdown-menu">
                <li><a href = "#">Velocity</a></li>
                <li><a href = "#">Acceleration</a></li>
                <li><a href = "#">Altitude</a></li>
              </ul>
            </li>
            <li><a href = "#">Instructions</a></li>
            <li><a href = "#contact" data-toggle="modal">Contact Us</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="col-xs-12" style="height:50px;"></div>
    <div class = "container">
      <div class = "jumbotron">
        <center>
          <h1>FlightGear User Interface</h1>
          <p>FlightGear is a free, open source flight simulator software available for Windows, OSX and Linux. This web application was built for the purpose of enabling users to utilize common features that the raw software itself does not offer. The application includes a live map that utilizes the Google Maps API, logging properties, system diagnosis, and more. </p>
          <a href = "http://www.flightgear.org/" class = "btn btn-default">Read More</a>
        </center>
      </div>
    </div>
    <div class = "container">
      <div class = "row">
        <div class = "col-md-3">
          <h3><a href = "#">$500 Gaming PC Build</a></h3>
          <p>Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse? Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse? Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse?</p>
          <a href = "#" class = "btn btn-default">Read More</a>
        </div>
        <div class = "col-md-3">
          <h3><a href = "#">$500 Gaming PC Build</a></h3>
          <p>Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse? Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse? Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse?</p>
          <a href = "#" class = "btn btn-default">Read More</a>
        </div>
        <div class = "col-md-3">
          <h3><a href = "#">$500 Gaming PC Build</a></h3>
          <p>Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse? Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse? Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse?</p>
          <a href = "#" class = "btn btn-default">Read More</a>
        </div>
        <div class = "col-md-3">
          <h3><a href = "#">$500 Gaming PC Build</a></h3>
          <p>Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse? Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse? Ooh, nigga that's that nerve. Why give a bitch an inch when she rather have a purse?</p>
          <a href = "#" class = "btn btn-default">Read More</a>
        </div>
      </div>
    </div>
    <div class="col-xs-12" style="height:50px;"></div>
    <center><div id="map-canvas"></div><center>
    <div class="col-xs-12" style="height:50px;"></div>
    <div class = "navbar navbar-default navbar-fixed-bottom">
      <div class = "container">
        <p class = "navbar-text pull-left">Site built by John Gee</p>
        <a href = "#" class = "navbar-btn btn-danger btn pull-right">Subscribe on YouTube</a>
      </div>
    </div>
    <div class="col-xs-12" style="height:50px;"></div>
    <div class = "modal fade" id = "contact" role = "dialog">
      <div class = "modal-dialog">
        <div class = "modal-content">
          <form class = "form-horizontal">
            <div class = "modal-header">
              <h4>Contact Us</h4>
            </div>
            <div class = "modal-body">
              <div class = "form-group">
                <label for = "name" class = "col-lg-3 control-label">Name:</label>
                <div class = "col-lg-9">
                  <input type = "text" class = "form-control" id = "name" placeholder = "John Smith">
                </div> 
              </div>
              <div class = "form-group">
                <label for = "email" class = "col-lg-3 control-label">Email:</label>
                <div class = "col-lg-9">
                  <input type = "text" class = "form-control" id = "email" placeholder = "johnsmith@example.com">
                </div> 
              </div>
              <div class = "form-group">
                <label for = "message" class = "col-lg-3 control-label">Message:</label>
                <div class = "col-lg-9">
                  <textarea class = "form-control" rows = "8" placeholder = "Blah blah blah."></textarea>
                </div> 
              </div>
            </div>
            <div class = "modal-footer">
              <a class = "btn btn-default" data-dismiss = "modal">Close</a>
              <button class = "btn btn-primary">Send</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <?php
      //Reduce errors
      error_reporting(~E_WARNING);

      //Create a UDP socket
      if(!($sock = socket_create(AF_INET, SOCK_DGRAM, 0)))
      {
          $errorcode = socket_last_error();
          $errormsg = socket_strerror($errorcode);

          die("Couldn't create socket: [$errorcode] $errormsg \n");
      }

      echo "Socket created \n";

      // Bind the source address
      if( !socket_bind($sock, "198.123.53.147" , 9999) )
      {
          $errorcode = socket_last_error();
          $errormsg = socket_strerror($errorcode);

          die("Could not bind socket : [$errorcode] $errormsg \n");
      }

      echo "Socket bind OK \n";

      //Do some communication, this loop can handle multiple clients
      while(1)
      {
          echo "\n Waiting for data ... \n";

          //Receive some data
          $r = socket_recvfrom($sock, $buf, 512, 0, $remote_ip, $remote_port);
          echo "$remote_ip : $remote_port -- " . $buf;

              //Send back the data to the client
          //socket_sendto($sock, "OK " . $buf , 100 , 0 , $remote_ip , $remote_port);

      }

      socket_close($sock);
    ?>
  </body>
</html>